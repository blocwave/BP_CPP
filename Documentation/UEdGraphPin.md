# UEdGraphPin API Reference

**Module:** Engine  
**Header:** /Engine/Source/Runtime/Engine/Classes/EdGraph/EdGraphPin.h  
**Include:** `#include "EdGraph/EdGraphPin.h"`

## Class Definition

```cpp
class UEdGraphPin
```

## Overview

UEdGraphPin represents individual connection points on nodes within Unreal Engine's visual scripting graphs (Blueprints, Material Editor, etc.). Pins define inputs and outputs for nodes, handle data flow, store default values, and manage connections between nodes in the graph system.

## Key Properties

### Core Identity
- **PinId**: Unique identifier for the pin
- **PersistentGuid**: Persistent GUID for reconstruction across node changes
- **PinName**: Name of the pin
- **PinFriendlyName**: Display name override
- **PinType**: Data type information (FEdGraphPinType)
- **Direction**: Input or output direction (EEdGraphPinDirection)

### Connection Management
- **LinkedTo**: Array of pins this pin is connected to
- **ParentPin**: Parent pin if this is a sub-pin (for split pins)
- **SubPins**: Child pins created when pin is split
- **ReferencePassThroughConnection**: Pass-through connection for reference types

### Default Values
- **DefaultValue**: String representation of default value
- **DefaultObject**: Object reference for object-type pins
- **DefaultTextValue**: FText value for localized text pins
- **AutogeneratedDefaultValue**: Initial default value for comparison

### Visual and Behavior Flags
- **bHidden**: Whether pin is hidden from view
- **bAdvancedView**: Whether pin can be hidden by user
- **bNotConnectable**: Whether pin can accept connections
- **bOrphanedPin**: Whether pin exists from older node version
- **bDefaultValueIsReadOnly**: Whether default value is editable
- **bDefaultValueIsIgnored**: Whether default value should be ignored

### Metadata and Utility
- **PinToolTip**: Descriptive tooltip text
- **SourceIndex**: Index in source data structure
- **bAllowFriendlyName**: Whether friendly names are allowed
- **bDisplayAsMutableRef**: Whether to display as mutable reference

## Primary Functions

### Pin Creation and Management

- **CreatePin(UEdGraphNode* InOwningNode)** [Static]: Creates new pin instances
- **CreatePinFromDeprecatedPin(UEdGraphPin_Deprecated* DeprecatedPin)** [Static]: Transition support for legacy pins
- **SetOwningNode(UEdGraphNode* NewOwningNode)**: Changes pin ownership
- **ResetToDefaults()**: Resets pin to default state
- **MarkAsGarbage()**: Marks pin for cleanup

### Connection Operations

- **MakeLinkTo(UEdGraphPin* ToPin)**: Creates connection to another pin
- **BreakLinkTo(UEdGraphPin* ToPin)**: Breaks specific connection
- **BreakAllPinLinks(bool bNotifyNodes)**: Breaks all connections
- **HasAnyConnections()**: Checks for any connections including sub-pins
- **AssignByRefPassThroughConnection(UEdGraphPin* InTargetPin)**: Sets up pass-through connection

### Value Management

- **GetDefaultAsString()**: Returns string representation of default value
- **GetDefaultAsText()**: Returns human-readable text representation
- **ResetDefaultValue()**: Clears default value
- **DoesDefaultValueMatchAutogenerated()**: Compares with auto-generated default
- **IsDefaultAsStringEmpty()**: Checks if default value is empty

### Data Persistence

- **CopyPersistentDataFromOldPin(const UEdGraphPin& SourcePin)**: Copies persistent data during reconstruction
- **MovePersistentDataFromOldPin(UEdGraphPin& SourcePin)**: Moves persistent data during reconstruction
- **SerializeAsOwningNode()** [Static]: Serializes pin arrays for owning nodes

### Display and UI

- **GetDisplayName()**: Returns appropriate display name
- **GetName()**: Returns pin name as string
- **GetFName()**: Returns pin name as FName
- **SafeSetHidden(bool bIsHidden)**: Safely sets hidden state
- **GetLinkInfoString()**: Generates connection description text

### Schema and Type Information

- **GetSchema()**: Returns graph schema for type checking
- **GetPrimaryTerminalType()**: Returns terminal type information
- **GetOwningNode()**: Returns owning node
- **GetOuter()**: Returns outer object (same as owning node)

### Import/Export Support

- **ExportTextItem(FString& ValueStr, int32 PortFlags)**: Exports pin data to text
- **ImportTextItem()**: Imports pin data from text
- **AddStructReferencedObjects(FReferenceCollector& Collector)**: Adds object references for garbage collection

### Utility Functions

- **GetComplementaryDirection(EEdGraphPinDirection InDirection)** [Static]: Returns opposite direction
- **IsPendingKill()**: Checks if pin is marked for destruction
- **WasTrashed()**: Checks if pin was marked as garbage
- **Modify(bool bAlwaysMarkDirty)**: Marks owning node as modified

### Orphan Pin Support

- **AreOrphanPinsEnabled()** [Static]: Checks if orphan pin preservation is enabled
- **SetSavePinIfOrphaned(bool bShouldSave)**: Controls orphan pin saving
- **ShouldSavePinIfOrphaned()**: Checks orphan pin save setting

### Cleanup and Verification

- **Purge()** [Static]: Cleans up pin references
- **ResolveAllPinReferences()** [Static]: Resolves pin references after undo/redo
- **SanitizePinsPostUndoRedo()** [Static]: Sanitizes pins after undo/redo
- **ShutdownVerification()** [Static]: Verifies all pins destroyed at shutdown

## Pin Types and Directions

### Direction Enumeration
- **Input**: Data flows into the node
- **Output**: Data flows out of the node

### Common Pin Types
- Execution pins (white)
- Boolean pins (red)
- Integer/Float pins (cyan/green)
- String pins (magenta)
- Object reference pins (blue)
- Struct pins (various colors)
- Array pins (with array indicator)

## Connection Rules

### Basic Connection Rules
- Input pins can connect to output pins
- Pins must have compatible types
- Execution pins follow different rules than data pins
- Some pins allow multiple connections, others are single-connection

### Type Compatibility
- Exact type matches are always valid
- Some types allow implicit conversion
- Schema defines specific compatibility rules
- Object references require inheritance compatibility

## Usage in Blueprint System

### Node Communication
- Data flows through connected pins
- Execution flow follows execution pin connections
- Default values used when pins aren't connected
- Type validation prevents invalid connections

### Editor Integration
- Visual representation in graph editors
- Drag-and-drop connection creation
- Context menus for pin operations
- Tooltip display for pin information

### Compilation Integration
- Pin data used during Blueprint compilation
- Type information drives code generation
- Connection validation during compile
- Default value integration in generated code

## Common Usage Patterns

### Creating Custom Pins
```cpp
UEdGraphPin* NewPin = UEdGraphPin::CreatePin(OwningNode);
NewPin->PinName = TEXT("MyPin");
NewPin->PinType.PinCategory = UEdGraphSchema_K2::PC_Boolean;
NewPin->Direction = EGPD_Input;
```

### Checking Pin Connections
```cpp
if (Pin->HasAnyConnections())
{
    for (UEdGraphPin* LinkedPin : Pin->LinkedTo)
    {
        // Process connected pin
    }
}
```

### Managing Default Values
```cpp
if (Pin->DefaultValue != Pin->AutogeneratedDefaultValue)
{
    // User has modified the default value
}
```

## Memory Management

- Pins are owned by their nodes
- Automatic cleanup when nodes are destroyed
- Reference tracking for object-type default values
- Garbage collection integration for proper cleanup

## Best Practices

- Always validate pin compatibility before connections
- Use appropriate default values for pin types
- Handle orphaned pins gracefully during node reconstruction
- Implement proper serialization for custom pin data
- Follow established naming conventions for pin names
- Provide meaningful tooltips for user-facing pins